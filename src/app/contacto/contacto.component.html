<div class="contactoGeneralContainer">
  <div class="logoContainer"><app-alex-logo _fontSize="2.5vw"></app-alex-logo></div>
  <div class="containerGeneralMail">
    <div class="selectorDiv">
      <h2>CONTACTO</h2>
      <h4 *ngIf="fireService.loggedUser; else loggedOut" (click)="logout()">
        Cerrar Sesión
      </h4>
      <ng-template #loggedOut>
        <div (click)="onChangeSection('MAIL')">Correo</div>
        <div (click)="onChangeSection('ACCOUNTLOGIN')">Cuenta Anónima</div>
      </ng-template>
    </div>

    <div [ngSwitch]="section" class="inputsDiv">
      <ng-container *ngSwitchCase="'MAIL'">
        <form (ngSubmit)="sendMessage(); contactForm.reset()" #contactForm="ngForm" class="contactoForms">
          <div>
            <label for="mail"></label>
            <input type="email" id="mail" placeholder="Tú Correo" required [(ngModel)]="model.mail" name="mail">
          </div>
          <div class="textAreaContainerDiv">
            <label for="contenido"></label>
            <textarea class="textareaContenido" placeholder="Mensaje" maxlength="1000" id="contenido" required [(ngModel)]="model.content" name="content"></textarea>
          </div>

          <button type="submit" [disabled]="!contactForm.form.valid">Enviar</button>
        </form>
    </ng-container>
      <ng-container *ngSwitchCase="'ACCOUNTLOGIN'">
        <form (ngSubmit)="loginUser(modelUser); contactForm.reset()" #contactForm="ngForm">
          <div>
            <label for="user"></label>
            <input type="email" id="user" placeholder="Usuario" required [(ngModel)]="modelUser.usuario" name="mail">
          </div>
          <div>
            <label for="password"></label>
            <input type="password"  placeholder="Contraseña" id="password" required [(ngModel)]="modelUser.contrasena" name="content">
          </div>

          <button type="submit" [disabled]="!contactForm.form.valid">Enviar</button>
        </form>
        <button type="button" (click)="onChangeSection('ACCOUNTREGISTER'); contactForm.reset()">Registrarse</button>
    </ng-container>
      <ng-container *ngSwitchCase="'ACCOUNTREGISTER'">
      <form (ngSubmit)="createUser(); CreateUserForm.reset()" #CreateUserForm="ngForm">
        <div>
          <label for="userCreate"></label>
          <input type="text" id="userCreate" placeholder="Usuario" required [(ngModel)]="modelUser.usuario" name="usuario">
        </div>
        <div>
          <label for="passwordCreate"></label>
          <input type="password"  placeholder="Contraseña" id="passwordCreate" required [(ngModel)]="modelUser.contrasena" name="contrasena">
        </div>

        <button type="submit" [disabled]="!CreateUserForm.form.valid">Enviar</button>
      </form>
      <button type="button" (click)="onChangeSection('ACCOUNTLOGIN'); CreateUserForm.reset()">Login</button>
    </ng-container>
      <ng-container *ngSwitchCase="'CHAT'">
        <div class="chatContactContainer">
          <h2 *ngFor="let message of chatMessagesArray" ngClass="{{(message.by == 'user')? 'userContactMessage': 'adminMessage'}}">{{message.message}}</h2>
        </div>
        <div class="inputChatContactDiv"><input type="text" placeholder="Escribe un Mensaje" #box (keyup)="onKey(box.value)"><button type="button" (click)="sendChatMessage(); box.value = ''">send</button></div>
      </ng-container>
    </div>

  </div>


  <app-mini-menu></app-mini-menu>

</div>
